<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=G-5899C1DJM0"></script><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="ie=edge"><link rel="apple-touch-icon" sizes="57x57" href="/roulette/apple-icon-57x57.5ecd1650.png"><link rel="apple-touch-icon" sizes="60x60" href="/roulette/apple-icon-60x60.b46a75af.png"><link rel="apple-touch-icon" sizes="72x72" href="/roulette/apple-icon-72x72.4726ed35.png"><link rel="apple-touch-icon" sizes="76x76" href="/roulette/apple-icon-76x76.72dbc1e1.png"><link rel="apple-touch-icon" sizes="114x114" href="/roulette/apple-icon-114x114.6cefcd75.png"><link rel="apple-touch-icon" sizes="120x120" href="/roulette/apple-icon-120x120.462d8e84.png"><link rel="apple-touch-icon" sizes="144x144" href="/roulette/apple-icon-144x144.36ef70f8.png"><link rel="apple-touch-icon" sizes="152x152" href="/roulette/apple-icon-152x152.1f1d2b56.png"><link rel="apple-touch-icon" sizes="180x180" href="/roulette/apple-icon-180x180.33666671.png"><link rel="icon" type="image/png" sizes="192x192" href="/roulette/android-icon-192x192.6c0734fc.png"><link rel="icon" type="image/png" sizes="32x32" href="/roulette/favicon-32x32.b3414860.png"><link rel="icon" type="image/png" sizes="96x96" href="/roulette/favicon-96x96.b086bd80.png"><link rel="icon" type="image/png" sizes="16x16" href="/roulette/favicon-16x16.b88a3ef4.png"><link rel="manifest" href="/roulette/assets/manifest.webmanifest"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/roulette/ms-icon-144x144.e402ee4a.png"><meta name="theme-color" content="#ffffff"><title>Marble Roulette</title><style lang="scss">*{box-sizing:border-box}canvas{width:100%;height:100%;position:fixed;inset:0}div.copyright{color:#fff;z-index:999;font-size:12px;position:fixed;bottom:0;left:50%;transform:translate(-50%)}div.copyright a{color:#fff}#settings{z-index:999;visibility:visible;opacity:1;background:#666;border-radius:10px;min-width:50%;padding:10px;transition:visibility,opacity 1s linear;display:flex;position:fixed;bottom:1rem;left:1rem;&.hide{opacity:0;visibility:hidden}& h3{color:#fefefe;margin:0;padding:0;font-size:12pt}& textarea{background:#999;border:none;width:100%;min-height:5rem;font-size:14pt}& button{color:#fefefe;background:#222;border:none;border-radius:5px;padding:5px 10px;position:relative;overflow:hidden;&:active:after{content:"";background:#00000080;position:absolute;inset:0}}& .icon{vertical-align:middle;background:currentColor;width:25px;height:25px;display:inline-block;mask-position:50%;mask-size:contain;mask-repeat:no-repeat;&.play{mask-image:url(play.50220b09.svg)}&.shuffle{mask-image:url(shuffle.32e315b7.svg)}&.record{mask-image:url(record.c360abdd.svg)}&.map{mask-image:url(map.a266fc31.svg)}&.trophy{mask-image:url(trophy.bc1d95aa.svg)}&.bomb{mask-image:url(bomb.c0adee11.svg)}}& div.left{flex-grow:1;flex-shrink:1;order:1;& .actions{text-align:right}}& div.right{flex-grow:0;flex-shrink:0;order:2;& div.row{align-items:center;height:35px;display:flex;& label{color:#fff;flex-grow:0;flex-shrink:0;width:150px;padding-left:1rem}}}& select{background:#999;border-radius:5px;width:100%;height:25px}& input[type=checkbox]{vertical-align:middle;width:0;height:25px;position:relative;&:before{content:"";background:#999;border-radius:25px;width:50px;height:25px;display:inline-block;position:absolute;top:0;left:0}&:after{content:"";background:#ccc;border-radius:25px;width:25px;height:25px;transition:transform .2s;position:absolute;top:0;left:0}&:checked:after{background:#fff;transform:translate(100%)}&:checked:before{content:"";background:#00baff}}& .btn-group{justify-content:stretch;display:flex;&>*{box-sizing:border-box;color:#fefefe;background:#999;border:none;border-radius:0;flex-grow:0;flex-shrink:0;justify-content:center;align-items:center;width:33%;height:25px;padding:0;display:flex;overflow:hidden;&:first-child{border-radius:10px 0 0 10px}&:last-child{border-radius:0 10px 10px 0}&.active:before{content:"";vertical-align:middle;background:#fff;width:15px;height:15px;display:inline-block;mask-image:url(check.0abd2b76.svg);mask-repeat:no-repeat}&.active{background:#333}}& input[type=number]{box-sizing:border-box;text-align:center}}}#donate{z-index:999;visibility:hidden;opacity:1;transition:visibility,opacity 1s linear;position:fixed;bottom:calc(160px + 1.5rem);left:1rem;&.hide{opacity:0;visibility:hidden}}@media screen and (width<=750px){#donate{bottom:1rem}#settings{opacity:1;visibility:visible;width:calc(100% - 2rem);min-width:0;max-width:100%;transition:visibility,opacity 1s linear;display:block;bottom:calc(1.5rem + 60px);overflow:hidden;&.hide{opacity:0;visibility:hidden}& div.right div.row{border-bottom:1px solid #555;height:auto;padding:.5rem 0;display:block;& label{width:100%;margin-bottom:.5rem;padding-left:0;display:block}& .icon{width:15px;height:15px}}}}</style></head><body> <script type="module" src="/roulette/index.7d0203a5.js"></script> <script type="text/javascript">function e(){dataLayer.push(arguments)}function t(){return document.querySelector("#in_names").value.trim().split(/[,\r\n]/g).map(e=>e.trim()).filter(e=>!!e)}function n(){let e=t();switch(window.roullete.setMarbles(e),i=e.length>0,localStorage.setItem("mbr_names",e.join(",")),r){case"first":o(1);break;case"last":o(window.roullete.getCount())}}function o(e){document.querySelector("#in_winningRank").value=e,window.options.winningRank=e-1,window.roullete.setWinningRank(window.options.winningRank),"first"===r?(document.querySelector(".btn-first-winner").classList.toggle("active",!0),document.querySelector(".btn-last-winner").classList.toggle("active",!1),document.querySelector("#in_winningRank").classList.toggle("active",!1)):"last"===r?(document.querySelector(".btn-first-winner").classList.toggle("active",!1),document.querySelector(".btn-last-winner").classList.toggle("active",!0),document.querySelector("#in_winningRank").classList.toggle("active",!1)):"custom"===r&&(document.querySelector(".btn-first-winner").classList.toggle("active",!1),document.querySelector(".btn-last-winner").classList.toggle("active",!1),document.querySelector("#in_winningRank").classList.toggle("active",!0))}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-5899C1DJM0");let i=!1,r="first";document.addEventListener("DOMContentLoaded",()=>{!function l(){if(!window.roullete||!window.roullete.isReady){console.log("does not loaded yet"),setTimeout(l,100);return}console.log("initializing start");let a=localStorage.getItem("mbr_names");a&&(document.querySelector("#in_names").value=a),document.querySelector("#in_names").addEventListener("input",()=>{n()}),document.querySelector("#in_names").addEventListener("blur",()=>{let e=t(),o=new Set,i={};e.forEach(e=>{let t=function(e){let t=/(\/\d+)/,n=/(\*\d+)/,o=t.test(e),i=n.test(e);return{name:/^\s*([^\/*]+)?/.exec(e)[1],weight:o?parseInt(t.exec(e)[1].replace("/","")):1,count:i?parseInt(n.exec(e)[1].replace("*","")):1}}(e),n=t.weight>1?`${t.name}/${t.weight}`:t.name;o.has(n)||(o.add(n),i[n]=0),i[n]+=t.count});let r=[];Object.keys(i).forEach(e=>{i[e]>1?r.push(`${e}*${i[e]}`):r.push(e)});let l=document.querySelector("#in_names").value,a=r.join(",");l!==a&&(document.querySelector("#in_names").value=a,n())}),document.querySelector("#btnShuffle").addEventListener("click",()=>{n()}),document.querySelector("#btnStart").addEventListener("click",()=>{i&&(e&&e("event","start",{event_category:"roulette",event_label:"start",value:window.roullete.getCount()}),window.roullete.start(),document.querySelector("#settings").classList.add("hide"),document.querySelector("#donate").classList.add("hide"))}),document.querySelector("#chkAutoRecording").addEventListener("change",e=>{window.options.autoRecording=e.target.matches(":checked"),window.roullete.setAutoRecording(window.options.autoRecording)}),document.querySelector("#chkSkill").addEventListener("change",e=>{window.options.useSkills=e.target.matches(":checked"),window.roullete.setWinningRank(window.options.winningRank)}),document.querySelector("#in_winningRank").addEventListener("change",e=>{let t=parseInt(e.target.value,10);r="custom",o(isNaN(t)?0:t)}),document.querySelector(".btn-last-winner").addEventListener("click",()=>{let e=window.roullete.getCount();r="last",o(e)}),document.querySelector(".btn-first-winner").addEventListener("click",()=>{r="first",o(1)}),document.querySelector("#btnShake").addEventListener("click",()=>{window.roullete.shake(),e("event","shake",{event_category:"roulette",event_label:"shake",value:1})}),window.roullete.addEventListener("goal",()=>{i=!1,setTimeout(()=>{document.querySelector("#settings").classList.remove("hide"),document.querySelector("#donate").classList.remove("hide")},3e3)}),window.roullete.addEventListener("shakeAvailableChanged",e=>{document.querySelector("#inGame").classList.toggle("hide",!e.detail)}),document.querySelector("#btnShuffle").click();let c=window.roullete.getMaps(),s=document.querySelector("#sltMap");c.forEach(e=>{let t=document.createElement("option");t.value=e.index,t.innerHTML=e.title,t.setAttribute("data-trans",""),window.translateElement(t),s.append(t)}),s.addEventListener("change",e=>{let t=e.target.value;window.roullete.setMap(t)}),setTimeout(()=>{let e=document.querySelector("span.bmc-btn-text");e.setAttribute("data-trans",""),window.translateElement(e)},100)}()});</script> <div id="settings" class="settings"> <div class="right"> <div class="row"> <label> <i class="icon map"></i> <span data-trans>Map</span> </label> <select id="sltMap"></select> </div> <div class="row"> <label> <i class="icon record"></i> <span data-trans>Recording</span> </label> <input type="checkbox" id="chkAutoRecording"> </div> <div class="row"> <label> <i class="icon trophy"></i> <span data-trans>The winner is</span> </label> <div class="btn-group"> <button class="active btn-first-winner btn-winner" data-trans>First</button> <button class="btn-last-winner btn-winner" data-trans>Last</button> <input type="number" id="in_winningRank" value="1" min="1"> </div> </div> <div class="row"> <label> <i class="bomb icon"></i> <span data-trans>Using skills</span> </label> <input type="checkbox" id="chkSkill" checked> </div> </div> <div class="left"> <h3 data-trans>Enter names below</h3> <textarea id="in_names" placeholder="Input names separated by commas or line feed here" data-trans="placeholder"></textarea> <div class="actions"> <button id="btnShuffle"> <i class="icon shuffle"></i> <span data-trans>Shuffle</span> </button> <button id="btnStart"> <i class="icon play"></i> <span data-trans>Start</span> </button> </div> </div> </div> <div id="inGame" class="hide settings"> <button id="btnShake" data-trans>Shake!</button> </div> <div class="copyright">&copy; 2024.<a href="https://lazygyu.net" target="_blank">lazygyu</a></div> </body></html>